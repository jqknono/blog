<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DNS on Nono Blogs</title><link>https://blog.jqknono.com/en-us/tags/dns/</link><description>Recent content in DNS on Nono Blogs</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 13 Oct 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://blog.jqknono.com/en-us/tags/dns/index.xml" rel="self" type="application/rss+xml"/><item><title>Comparison of DNS Encryption Protocols: DoT, DoH, DoQ</title><link>https://blog.jqknono.com/en-us/blog/2025/10/09/comparison-of-dns-encryption-protocols-dot-doh-doq/</link><pubDate>Thu, 09 Oct 2025 13:16:16 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/10/09/comparison-of-dns-encryption-protocols-dot-doh-doq/</guid><description>&lt;h2 id="quick-glossary"&gt;Quick Glossary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS: Cleartext DNS, typically uses UDP/53, switching to TCP/53 when necessary (e.g., for truncated responses, zone transfers).&lt;/li&gt;
&lt;li&gt;DoT: DNS over TLS, uses TCP over TLS, default port 853 (RFC 7858/8310).&lt;/li&gt;
&lt;li&gt;DoH: DNS over HTTPS, based on HTTPS (HTTP/2 or HTTP/3), default port 443 (RFC 8484).&lt;/li&gt;
&lt;li&gt;DoQ: DNS over QUIC, based on QUIC + TLS 1.3, default port UDP/853 (RFC 9250, IANA assigned to 853/udp).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="layered-relationship-simplified-tcpip-model"&gt;Layered Relationship (Simplified TCP/IP Model)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Application Layer: HTTP, HTTPS, DNS (DoH is encapsulated within the HTTPS application layer)&lt;/li&gt;
&lt;li&gt;Security Layer: TLS (provides encryption for TCP or QUIC)&lt;/li&gt;
&lt;li&gt;Transport Layer: TCP, UDP, QUIC&lt;/li&gt;
&lt;li&gt;Network Layer: IP&lt;/li&gt;
&lt;li&gt;Link Layer: Ethernet, etc.&lt;/li&gt;
&lt;li&gt;Physical Layer: Twisted pair/Fiber optic/Wireless, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="key-points"&gt;Key Points&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS operates over UDP/TCP, unencrypted.&lt;/li&gt;
&lt;li&gt;DoT = TCP + TLS + DNS (dedicated port 853).&lt;/li&gt;
&lt;li&gt;DoH = TCP/QUIC + TLS + HTTP(S) + DNS (uses port 443, shared with regular HTTPS).&lt;/li&gt;
&lt;li&gt;DoQ = QUIC + TLS 1.3 + DNS (dedicated port UDP/853).&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="mermaid"&gt;graph TB
 subgraph Application Layer
 A[HTTP]
 A2[HTTPS]
 C[DNS]
 D[DoH DNS over HTTPS]
 end

 subgraph Security Layer
 E[TLS]
 end

 subgraph Transport Layer
 F[TCP]
 G[UDP]
 H[QUIC]
 end

 subgraph Network Layer
 I[IP]
 end

 subgraph Link Layer
 J[Ethernet]
 end

 subgraph Physical Layer
 K[Twisted Pair/Fiber/Wireless]
 end

 A2 --&amp;gt; F
 A2 --&amp;gt; H
 A --&amp;gt; F
 C --&amp;gt; F
 C --&amp;gt; G
 D --&amp;gt; A2
 E --&amp;gt; F
 E --&amp;gt; H
 F --&amp;gt; I
 G --&amp;gt; I
 H --&amp;gt; I
 I --&amp;gt; J
 J --&amp;gt; K

 style D fill:#e1f5fe
 style E fill:#fff3e0&lt;/pre&gt;
&lt;h2 id="basics-and-corrections"&gt;Basics and Corrections&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS defaults to UDP/53, switching to TCP/53 for truncated responses (TC bit) or when reliable transport is needed.&lt;/li&gt;
&lt;li&gt;DoT establishes a TLS tunnel over TCP to transmit DNS messages, default port 853; long-lived connections can be reused to reduce handshake overhead.&lt;/li&gt;
&lt;li&gt;DoH treats DNS as a resource within HTTPS (&lt;code&gt;application/dns-message&lt;/code&gt;), typically using HTTP/2 or HTTP/3, port 443, easily mixed with regular HTTPS traffic.&lt;/li&gt;
&lt;li&gt;DoQ directly uses QUIC (based on UDP) to carry DNS, offering low latency and head-of-line blocking avoidance, but ecosystem adoption is still growing.&lt;/li&gt;
&lt;li&gt;Broad statements like &amp;ldquo;QUIC is always X% faster than TCP&amp;rdquo; are inaccurate; actual performance depends on network conditions (packet loss, jitter, RTT), connection reuse capabilities, implementation details, and server deployment.&lt;/li&gt;
&lt;li&gt;DoH is not inherently &amp;ldquo;slower/faster just because DNS is placed in HTTP&amp;rdquo;; performance depends on connection reuse, network quality, and implementation; in many cases, DoH/3 performance is comparable to or even better than DoT.&lt;/li&gt;
&lt;li&gt;DoT can use SNI for certificate hostname verification; DoH relies on standard HTTPS certificate validation and hostname matching.&lt;/li&gt;
&lt;li&gt;Encrypted DNS only prevents eavesdropping and tampering on the link; it does not equal &amp;ldquo;complete anonymity.&amp;rdquo; The resolver may still log queries; choose a trustworthy provider and review their privacy policy.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="mermaid"&gt;graph TD
 subgraph DNS Family
 A[Plain DNS UDP/TCP &amp;#43; DNS]

 subgraph Encrypted DNS
 B[DoT TCP &amp;#43; TLS &amp;#43; DNS]
 C[DoH HTTP/2,3 &amp;#43; TLS &amp;#43; DNS]
 D[DoQ QUIC &amp;#43; TLS 1.3 &amp;#43; DNS]
 end

 subgraph Transport Base
 E[TCP]
 F[UDP]
 G[QUIC]
 end
 end

 A --&amp;gt; B
 A --&amp;gt; C
 A --&amp;gt; D

 B --&amp;gt; E
 C --&amp;gt; E
 C --&amp;gt; G
 D --&amp;gt; G
 A --&amp;gt; F

 style A fill:#f3e5f5
 style B fill:#e8f5e8
 style C fill:#e3f2fd
 style D fill:#fff3e0&lt;/pre&gt;
&lt;h2 id="comparison-overview"&gt;Comparison Overview&lt;/h2&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th&gt;Protocol&lt;/th&gt;
 &lt;th&gt;Transport Layer&lt;/th&gt;
 &lt;th&gt;Encryption&lt;/th&gt;
 &lt;th&gt;Encapsulation&lt;/th&gt;
 &lt;th&gt;Default Port&lt;/th&gt;
 &lt;th&gt;Typical Characteristics&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td&gt;Plain DNS&lt;/td&gt;
 &lt;td&gt;UDP/TCP&lt;/td&gt;
 &lt;td&gt;None&lt;/td&gt;
 &lt;td&gt;Native DNS&lt;/td&gt;
 &lt;td&gt;53&lt;/td&gt;
 &lt;td&gt;Simple, efficient, plaintext visible, easily tampered/monitored&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;DoT&lt;/td&gt;
 &lt;td&gt;TCP&lt;/td&gt;
 &lt;td&gt;TLS 1.2/1.3&lt;/td&gt;
 &lt;td&gt;DNS&lt;/td&gt;
 &lt;td&gt;853&lt;/td&gt;
 &lt;td&gt;Dedicated port, easily blocked by port, good system-level support&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;DoH&lt;/td&gt;
 &lt;td&gt;TCP/QUIC&lt;/td&gt;
 &lt;td&gt;TLS 1.2/1.3&lt;/td&gt;
 &lt;td&gt;HTTP/2-3 + DNS&lt;/td&gt;
 &lt;td&gt;443&lt;/td&gt;
 &lt;td&gt;Shares port with HTTPS, strong penetration, browser priority support&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td&gt;DoQ&lt;/td&gt;
 &lt;td&gt;QUIC&lt;/td&gt;
 &lt;td&gt;TLS 1.3&lt;/td&gt;
 &lt;td&gt;DNS&lt;/td&gt;
 &lt;td&gt;853/UDP&lt;/td&gt;
 &lt;td&gt;Low latency, avoids head-of-line blocking, ecosystem developing&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="performance-and-latency"&gt;Performance and Latency&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Connection Reuse: DoT/DoH/DoQ can all reuse long-lived connections to reduce handshake costs; DoH/2, DoH/3, and DoQ can also multiplex requests within a single connection.&lt;/li&gt;
&lt;li&gt;Head-of-Line Blocking: TCP suffers from application-layer head-of-line blocking; HTTP/2 mitigates this over TCP with multiplexing but is still affected by TCP packet loss. QUIC (DoH/3, DoQ) avoids head-of-line blocking at the transport layer, making it more friendly to high packet loss/mobile networks.&lt;/li&gt;
&lt;li&gt;First Packet Latency: On initial connection, DoT requires TCP+TLS handshake; DoH/2 is similar; DoH/3/DoQ, based on QUIC, offer faster reconnection and migration. Under sustained load, differences depend more on implementation and network conditions.&lt;/li&gt;
&lt;li&gt;Reachability: DoH uses port 443, least likely to be blocked by simple port filtering; DoT uses port 853, often subject to indiscriminate blocking; DoQ uses UDP/853, which may currently be blocked or not permitted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="client-and-system-support"&gt;Client and System Support&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Browsers: Chromium family and Firefox have built-in DoH by default (can automatically upgrade to DoH-capable resolvers or use built-in provider lists).&lt;/li&gt;
&lt;li&gt;Windows: Windows 11 has native DoH support.&lt;/li&gt;
&lt;li&gt;Android: Android 9+ provides &amp;ldquo;Private DNS&amp;rdquo; (system-level DoT). System-level DoH support depends on version/manufacturer.&lt;/li&gt;
&lt;li&gt;Apple Platforms: iOS 14+/macOS 11+ support DoT and DoH via configuration profiles or NetworkExtension.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="deployment-and-selection-recommendations"&gt;Deployment and Selection Recommendations&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;General/Restricted Networks (e.g., public Wi-Fi, need to bypass simple blocking): Prioritize DoH (port 443), enable HTTP/3 if available.&lt;/li&gt;
&lt;li&gt;System-Wide Outbound (router, gateway, Android Private DNS): Prioritize DoT (853), optionally configure DoH as a fallback if the network allows.&lt;/li&gt;
&lt;li&gt;High Packet Loss/Mobile Networks: Prioritize DoH/3 with QUIC or DoQ (depending on resolver and client support).&lt;/li&gt;
&lt;li&gt;Enterprise/Compliance Scenarios: Choose based on policy (DoH can integrate with existing HTTPS infrastructure; DoT facilitates separation from DNS control plane).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="summary"&gt;Summary&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;First choice: DoH (port 443, strong penetration), enable HTTP/3 if available.&lt;/li&gt;
&lt;li&gt;If system-wide unification is needed: Prioritize DoT (853) + persistent connections, fall back to DoH (443) if necessary.&lt;/li&gt;
&lt;li&gt;If your resolver and clients both support it: Try DoQ (often provides better mobile network experience).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="reference-standards"&gt;Reference Standards&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;RFC 7858, RFC 8310 (DNS over TLS)&lt;/li&gt;
&lt;li&gt;RFC 8484 (DNS over HTTPS)&lt;/li&gt;
&lt;li&gt;RFC 9250 (DNS over QUIC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="recommended-dns-services"&gt;Recommended DNS Services&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;NullPrivate DNS: &lt;a href="https://www.nullprivate.com"&gt;https://www.nullprivate.com&lt;/a&gt; supports DoT, DoH (supports HTTP3), natively supports ad-blocking and traffic splitting.&lt;/li&gt;
&lt;li&gt;Self-hosted version: &lt;a href="https://github.com/NullPrivate/NullPrivate"&gt;https://github.com/NullPrivate/NullPrivate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>Adding Split-Routing Support to AdGuardHome</title><link>https://blog.jqknono.com/en-us/blog/2025/07/10/adding-split-routing-support-to-adguardhome/</link><pubDate>Thu, 10 Jul 2025 16:30:07 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/07/10/adding-split-routing-support-to-adguardhome/</guid><description>&lt;p&gt;Open-source repo: &lt;a href="https://github.com/AdGuardPrivate/AdGuardPrivate"&gt;https://github.com/AdGuardPrivate/AdGuardPrivate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Out of the box, AdGuardHome has no built-in split-routing rules—you either hand-write them or configure an upstream file, which is one of its pain points.&lt;/p&gt;
&lt;p&gt;It took quite a while to develop and thoroughly test the split-routing feature, but it’s now running stably.&lt;/p&gt;
&lt;p&gt;With split-routing in place, you no longer need to put SmartDNS in front of AdGuardHome; the single AdGuardPrivate binary handles everything.&lt;/p&gt;
&lt;p&gt;At the moment the feature only supports &lt;strong&gt;splitting traffic into two upstream pools: A and B&lt;/strong&gt;—part of your traffic goes to pool A, the rest to pool B. Enabling more flexible routing would require significantly more work, as the routing logic spans both AdGuardHome and dnsproxy. If two pools aren’t enough, feel free to fork the project and experiment yourself.&lt;/p&gt;</description></item><item><title>Getting Started with DNS: The Internet's Address Book</title><link>https://blog.jqknono.com/en-us/docs/private-service/dns/</link><pubDate>Sat, 24 May 2025 20:04:34 +0800</pubDate><guid>https://blog.jqknono.com/en-us/docs/private-service/dns/</guid><description>&lt;h2 id="what-is-dns"&gt;What is DNS?&lt;/h2&gt;
&lt;p&gt;Welcome to our DNS series! Before diving into the technical details, let’s start with a simple question: What is DNS?&lt;/p&gt;
&lt;p&gt;Imagine your phone’s contact list. You don’t need to memorize every friend’s phone number—just their names. When you want to call “Zhang San,” you find the name in your contacts and tap to dial. Your phone automatically looks up Zhang San’s phone number and places the call.&lt;/p&gt;</description></item><item><title>A New Choice for Ad Blocking—AdGuardPrivate</title><link>https://blog.jqknono.com/en-us/blog/2025/02/20/a-new-choice-for-ad-blockingadguardprivate/</link><pubDate>Thu, 20 Feb 2025 19:10:12 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/02/20/a-new-choice-for-ad-blockingadguardprivate/</guid><description>&lt;p&gt;&lt;a href="https://www.adguardprivate.com"&gt;AdGuardPrivate&lt;/a&gt; is a DNS–based service focused on protecting network privacy and blocking ads. Built atop the open-source project &lt;a href="https://github.com/AdguardTeam/AdGuardHome"&gt;AdGuard Home&lt;/a&gt;, it uses intelligent traffic analysis and filtration to deliver a secure, high-performance browsing experience. Below are its key features and characteristics:&lt;/p&gt;
&lt;h2 id="core-functionality-ad-blocking--privacy-protection"&gt;Core Functionality: Ad Blocking &amp;amp; Privacy Protection&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ad Blocking: Intercepts web advertisements (banners, pop-ups, video ads, etc.) and in-app ads at the DNS level, speeding up page loads and improving device performance.&lt;/li&gt;
&lt;li&gt;Privacy Protection: Prevents tracking scripts, social-media widgets, and privacy-breaching requests from collecting behavioral data; blocks malicious sites, phishing links, and malware.&lt;/li&gt;
&lt;li&gt;DNS Anti-Hijacking: Ensures accurate and secure domain resolution through encrypted DNS (DoT, DoH, HTTP/3), guarding against traffic tampering.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="advanced-features-customization--optimization"&gt;Advanced Features: Customization &amp;amp; Optimization&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Custom Rules: Allow users to import third-party allow/deny lists or create personalized filtering rules, granting fine control over access to specific apps, sites, or games.&lt;/li&gt;
&lt;li&gt;Smart Resolution: Supports friendly domain resolution for LAN devices (e.g., NAS or corporate servers), simplifying network management.&lt;/li&gt;
&lt;li&gt;Statistics &amp;amp; Analytics: Provides detailed request logs, blocking statistics, and 72-hour query history, giving users visibility into their network usage.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="family--enterprise-scenarios"&gt;Family &amp;amp; Enterprise Scenarios&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Parental Controls: Blocks adult sites and games; helps manage household internet time and protect minors.&lt;/li&gt;
&lt;li&gt;Enterprise Deployment: Offers distributed server load balancing and optimized China-mainland access speed, backed by stable Alibaba Cloud nodes.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="platform-compatibility--service-tiers"&gt;Platform Compatibility &amp;amp; Service Tiers&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Cross-Platform: Works on multiple operating systems with no extra software required—just configure encrypted DNS and go.&lt;/li&gt;
&lt;li&gt;Service Models:
&lt;ul&gt;
&lt;li&gt;Free Public Service: Core ad-blocking and security rules; may trigger occasional false positives.&lt;/li&gt;
&lt;li&gt;Paid Private Service: Adds custom resolution, authoritative DNS, per-device ID tracking for usage history, and more—ideal for users needing advanced personalization.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="technical-strengths--limitations"&gt;Technical Strengths &amp;amp; Limitations&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Strengths: Works across all devices, adds zero overhead, reduces unnecessary data loads—great for mobile battery life.&lt;/p&gt;</description></item><item><title>Using curl to Fetch DNS Results</title><link>https://blog.jqknono.com/en-us/blog/2025/02/20/using-curl-to-fetch-dns-results/</link><pubDate>Thu, 20 Feb 2025 17:08:34 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/02/20/using-curl-to-fetch-dns-results/</guid><description>&lt;p&gt;This article presents two methods to retrieve DNS query results using curl:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DNS JSON format&lt;/li&gt;
&lt;li&gt;DNS Wire Format&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="1-dns-json-format-queries"&gt;1. DNS JSON Format Queries&lt;/h2&gt;
&lt;p&gt;Returns DNS responses in JSON, making them easy to parse.&lt;/p&gt;
&lt;h3 id="google"&gt;Google&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -H &lt;span class="s1"&gt;&amp;#39;accept: application/dns-json&amp;#39;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;https://dns.google/resolve?name=baidu.com&amp;amp;type=A&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="cloudflare"&gt;Cloudflare&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -H &lt;span class="s1"&gt;&amp;#39;accept: application/dns-json&amp;#39;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;https://cloudflare-dns.com/dns-query?name=baidu.com&amp;amp;type=A&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="aliyun"&gt;Aliyun&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -H &lt;span class="s2"&gt;&amp;#34;accept: application/dns-json&amp;#34;&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;https://223.5.5.5/resolve?name=baidu.com&amp;amp;type=1&amp;#34;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="dnspub"&gt;dns.pub&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;curl -H &lt;span class="s1"&gt;&amp;#39;accept: application/dns-json&amp;#39;&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;https://doh.dns.pub/dns-query?name=baidu.com&amp;amp;type=A&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; jq .
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id="adguard-private-dns"&gt;AdGuard Private DNS&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Currently unsupported&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id="2-dns-wire-format-queries"&gt;2. DNS Wire Format Queries&lt;/h2&gt;
&lt;p&gt;Returns binary DNS responses that require further parsing.&lt;/p&gt;</description></item><item><title>How to Use Bing International Edition</title><link>https://blog.jqknono.com/en-us/blog/2025/02/20/how-to-use-bing-international-edition/</link><pubDate>Thu, 20 Feb 2025 15:03:04 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/02/20/how-to-use-bing-international-edition/</guid><description>&lt;p&gt;Some search engines refuse to innovate; valuable content keeps decreasing while ads keep multiplying. Many have started abandoning them and switched to Bing (bing.com).&lt;/p&gt;
&lt;p&gt;Bing comes in multiple versions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://cn.bing.com"&gt;cn.bing.com&lt;/a&gt; is the China edition; search results are censored.
&lt;ul&gt;
&lt;li&gt;Domestic edition: mainly searches Chinese content.
&lt;img src="https://img1.techfetch.dev/blog/202502201527190.png" alt=""&gt;&lt;/li&gt;
&lt;li&gt;International edition: searches both Chinese and English content.
&lt;img src="https://img1.techfetch.dev/blog/202502201530275.png" alt=""&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.bing.com"&gt;www.bing.com&lt;/a&gt; is the genuine international edition; there is no mainland-China censorship, letting you find much more “you-know-what” content.
&lt;img src="https://img1.techfetch.dev/blog/202502201535693.png" alt=""&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Search results differ among the three editions. For users who can read English, I strongly recommend the international edition—it yields far more valuable material.&lt;/p&gt;</description></item><item><title>Tools</title><link>https://blog.jqknono.com/en-us/blog/tools/dns/</link><pubDate>Thu, 20 Feb 2025 15:02:33 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/tools/dns/</guid><description/></item><item><title>Exploring DNS</title><link>https://blog.jqknono.com/en-us/blog/information-flow/dns/</link><pubDate>Mon, 17 Feb 2025 16:17:38 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/information-flow/dns/</guid><description>&lt;p&gt;Markdown front matter中的tags和catagory需要翻译.&lt;/p&gt;</description></item><item><title>DoT vs DoH vs DoQ</title><link>https://blog.jqknono.com/en-us/docs/private-service/dns/dot-vs-doh-vs-doq/</link><pubDate>Wed, 13 Nov 2024 11:35:36 +0800</pubDate><guid>https://blog.jqknono.com/en-us/docs/private-service/dns/dot-vs-doh-vs-doq/</guid><description>&lt;h2 id="dot"&gt;DoT&lt;/h2&gt;
&lt;p&gt;DNS over TLS (DoT) is a DNS encryption protocol based on TLS. TLS 1.2 requires at least four round-trips, TLS 1.3 requires at least three round-trips, while DNS requests only need one round-trip.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;Timeline
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ↓
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ┌───────────────────────────────────────────────────────────────────────┐
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client Server
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends SYN segment │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ SYN = 1, Seq = x │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ←─────────────────────────────────────────────────────────────────────│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server responds with SYN-ACK segment │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ SYN = 1, ACK = 1, Seq = y, Ack = x + 1 │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends ACK segment │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ACK = 1, Seq = x + 1, Ack = y + 1 │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ TCP connection established │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends ClientHello │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ←─────────────────────────────────────────────────────────────────────│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server responds with ServerHello │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server sends certificate chain │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends key exchange message │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server sends key exchange message │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ←─────────────────────────────────────────────────────────────────────│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends Finished │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server sends Finished │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ←─────────────────────────────────────────────────────────────────────│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ TLS handshake completed │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Client sends DNS query │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ────────────────────────────────────────────────────────────────────▶│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ ←─────────────────────────────────────────────────────────────────────│
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ Server responds with DNS query │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; │ │
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └───────────────────────────────────────────────────────────────────────┘
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;TLS 1.2 handshake requires at least two round-trip times (RTT): client sends ClientHello, server replies with ServerHello and certificates, then client sends ClientKeyExchange and ChangeCipherSpec, finally server sends Finished. TLS 1.3 simplifies the handshake to one round-trip (1-RTT). When sending ClientHello, client can include key share information (ClientKeyShare), server also includes key share information in ServerHello response, completing key negotiation and handshake within the first round-trip.&lt;/p&gt;</description></item><item><title>Fastest DNS</title><link>https://blog.jqknono.com/en-us/docs/private-service/dns/fastest-dns/</link><pubDate>Sun, 10 Nov 2024 19:12:42 +0800</pubDate><guid>https://blog.jqknono.com/en-us/docs/private-service/dns/fastest-dns/</guid><description>&lt;p&gt;Ordinary users typically measure ping response speed of plaintext DNS IP addresses, but this rarely reflects actual server connection performance. Modern DNS requires encrypted DNS protocols to ensure service integrity against hijacking.&lt;/p&gt;
&lt;p&gt;From client to destination, traffic usually passes through 5-8 network devices. Any of these can hijack UDP:53 requests through simple commands. Never rely on plaintext DNS, especially in enterprise environments where hijacking is nearly inevitable.&lt;/p&gt;
&lt;p&gt;Example hijacking command:
&lt;code&gt;sudo iptables -t nat -A PREROUTING -p udp --dport 53 -j DNAT --to-destination 1.1.1.1:53&lt;/code&gt;&lt;/p&gt;</description></item><item><title>How DNS Affects Your Internet Experience</title><link>https://blog.jqknono.com/en-us/blog/2025/10/13/dns-impact-on-browsing/</link><pubDate>Mon, 13 Oct 2025 00:00:00 +0000</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/10/13/dns-impact-on-browsing/</guid><description>&lt;h1 id="how-dns-affects-your-internet-experience"&gt;How DNS Affects Your Internet Experience&lt;/h1&gt;
&lt;p&gt;When we open a web page, watch a video, or click a link within an app, the first hop almost always lands on DNS. It acts like a telephone directory for the online world, responsible for translating human-friendly domain names into IP addresses that machines can understand. Many people attribute issues like &amp;ldquo;slow web pages, inability to open sites, or inconsistent performance&amp;rdquo; to &amp;ldquo;poor internet speed,&amp;rdquo; when in fact, a significant portion of these experience fluctuations are related to DNS resolution success rates, latency, cache hits, and privacy policies. Understanding how DNS works, its exposure points in the connection chain, and the available protection strategies can help us break down &amp;ldquo;slowness and instability&amp;rdquo; into manageable factors.&lt;/p&gt;</description></item></channel></rss>