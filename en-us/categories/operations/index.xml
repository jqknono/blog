<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Operations on Nono Blogs</title><link>https://blog.jqknono.com/en-us/categories/operations/</link><description>Recent content in Operations on Nono Blogs</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Fri, 25 Apr 2025 19:25:01 +0800</lastBuildDate><atom:link href="https://blog.jqknono.com/en-us/categories/operations/index.xml" rel="self" type="application/rss+xml"/><item><title>Certificate Application Issues Caused by CNAME–TXT Conflicts</title><link>https://blog.jqknono.com/en-us/blog/2025/04/25/certificate-application-issues-caused-by-cnametxt-conflicts/</link><pubDate>Fri, 25 Apr 2025 19:25:01 +0800</pubDate><guid>https://blog.jqknono.com/en-us/blog/2025/04/25/certificate-application-issues-caused-by-cnametxt-conflicts/</guid><description>&lt;h2 id="cname-and-txt-records-with-the-same-prefix-cannot-coexist"&gt;CNAME and TXT Records With the Same Prefix Cannot Coexist&lt;/h2&gt;
&lt;p&gt;Anyone who has ever configured a domain knows that (A, AAAA) records cannot coexist with a CNAME, but most people have never run into a TXT vs. CNAME conflict.&lt;/p&gt;
&lt;p&gt;When would TXT and CNAME need the same prefix?&lt;/p&gt;
&lt;p&gt;One scenario occurs while applying for a Let’s Encrypt certificate and using the &lt;strong&gt;&lt;em&gt;DNS-01&lt;/em&gt; challenge&lt;/strong&gt; to prove domain ownership.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Certbot creates a &lt;strong&gt;TXT record&lt;/strong&gt; for &lt;code&gt;_acme-challenge.example.com&lt;/code&gt;, using an akid/aksecret pair or a token.&lt;/li&gt;
&lt;li&gt;Let’s Encrypt queries the &lt;strong&gt;TXT record&lt;/strong&gt; to confirm that the applicant can modify DNS and therefore controls the domain.&lt;/li&gt;
&lt;li&gt;Let’s Encrypt issues the certificate.&lt;/li&gt;
&lt;li&gt;Certbot cleans up the &lt;strong&gt;TXT record&lt;/strong&gt; for &lt;code&gt;_acme-challenge.example.com&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If a &lt;strong&gt;CNAME record&lt;/strong&gt; for &lt;code&gt;_acme-challenge.example.com&lt;/code&gt; already exists when the &lt;strong&gt;TXT record&lt;/strong&gt; is created, the &lt;strong&gt;TXT record&lt;/strong&gt; insertion usually fails, causing the challenge to fail and the certificate to be denied.&lt;/p&gt;</description></item></channel></rss>