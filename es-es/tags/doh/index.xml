<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DoH on jqknono Blogs</title><link>https://blog.jqknono.com/es-es/tags/doh/</link><description>Recent content in DoH on jqknono Blogs</description><generator>Hugo -- gohugo.io</generator><language>es-es</language><lastBuildDate>Thu, 09 Oct 2025 13:16:16 +0800</lastBuildDate><atom:link href="https://blog.jqknono.com/es-es/tags/doh/index.xml" rel="self" type="application/rss+xml"/><item><title>Comparativa de protocolos DNS cifrados: DoT, DoH, DoQ</title><link>https://blog.jqknono.com/es-es/blog/2025/10/09/comparativa-de-protocolos-dns-cifrados-dot-doh-doq/</link><pubDate>Thu, 09 Oct 2025 13:16:16 +0800</pubDate><guid>https://blog.jqknono.com/es-es/blog/2025/10/09/comparativa-de-protocolos-dns-cifrados-dot-doh-doq/</guid><description>&lt;h2 id="resumen-rápido-de-términos"&gt;Resumen rápido de términos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS: DNS en texto claro, usa UDP/53 por defecto, y TCP/53 cuando es necesario (como respuestas truncadas, transferencia de zona, etc.).&lt;/li&gt;
&lt;li&gt;DoT: DNS sobre TLS, utiliza TCP sobre TLS, puerto 853 por defecto (RFC 7858/8310).&lt;/li&gt;
&lt;li&gt;DoH: DNS sobre HTTPS, basado en HTTPS (HTTP/2 o HTTP/3), puerto 443 por defecto (RFC 8484).&lt;/li&gt;
&lt;li&gt;DoQ: DNS sobre QUIC, basado en QUIC + TLS 1.3, puerto UDP/853 por defecto (RFC 9250, IANA asigna 853/udp).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="relaciones-de-capas-modelo-tcpip-simplificado"&gt;Relaciones de capas (modelo TCP/IP simplificado)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Capa de aplicación: HTTP, HTTPS, DNS (DoH está encapsulado en la capa de aplicación HTTPS)&lt;/li&gt;
&lt;li&gt;Capa de seguridad: TLS (proporciona cifrado para TCP o QUIC)&lt;/li&gt;
&lt;li&gt;Capa de transporte: TCP, UDP, QUIC&lt;/li&gt;
&lt;li&gt;Capa de red: IP&lt;/li&gt;
&lt;li&gt;Capa de enlace: Ethernet, etc.&lt;/li&gt;
&lt;li&gt;Capa física: cable de par trenzado/fibra óptica/inalámbrico, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="puntos-clave"&gt;Puntos clave&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS opera sobre UDP/TCP, sin cifrar.&lt;/li&gt;
&lt;li&gt;DoT = TCP + TLS + DNS (puerto dedicado 853).&lt;/li&gt;
&lt;li&gt;DoH = TCP/QUIC + TLS + HTTP(S) + DNS (usa 443, comparte puerto con HTTPS habitual).&lt;/li&gt;
&lt;li&gt;DoQ = QUIC + TLS 1.3 + DNS (puerto dedicado UDP/853).&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="mermaid"&gt;graph TB
subgraph Capa de aplicación
A[HTTP]
A2[HTTPS]
C[DNS]
D[DoH DNS sobre HTTPS]
end
subgraph Capa de seguridad
E[TLS]
end
subgraph Capa de transporte
F[TCP]
G[UDP]
H[QUIC]
end
subgraph Capa de red
I[IP]
end
subgraph Capa de enlace
J[Ethernet]
end
subgraph Capa física
K[Cable de par trenzado/fibra óptica/inalámbrico]
end
A2 --&amp;gt; F
A2 --&amp;gt; H
A --&amp;gt; F
C --&amp;gt; F
C --&amp;gt; G
D --&amp;gt; A2
E --&amp;gt; F
E --&amp;gt; H
F --&amp;gt; I
G --&amp;gt; I
H --&amp;gt; I
I --&amp;gt; J
J --&amp;gt; K
style D fill:#e1f5fe
style E fill:#fff3e0&lt;/pre&gt;
&lt;h2 id="conceptos-básicos-y-aclaraciones"&gt;Conceptos básicos y aclaraciones&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Plain DNS usa UDP/53 por defecto; cuando hay truncamiento (bit TC) o se necesita transmisión fiable, cambia a TCP/53.&lt;/li&gt;
&lt;li&gt;DoT establece un túnel TLS sobre TCP para transportar mensajes DNS, puerto 853 por defecto; permite reutilizar conexiones largas para reducir el coste de handshake.&lt;/li&gt;
&lt;li&gt;DoH encapsula DNS como un recurso HTTPS (&lt;code&gt;application/dns-message&lt;/code&gt;), usualmente usando HTTP/2 o HTTP/3, puerto 443, fácil de confundir con HTTPS habitual.&lt;/li&gt;
&lt;li&gt;DoQ usa QUIC (basado en UDP) directamente para DNS, con ventajas de baja latencia y evitar bloqueo de cabeza de cola, aunque su ecosistema aún está en crecimiento.&lt;/li&gt;
&lt;li&gt;No es preciso afirmar categóricamente que &amp;ldquo;QUIC es siempre X% más rápido que TCP&amp;rdquo;; el rendimiento real depende de la condición de red (pérdida, jitter, RTT), reutilización de conexiones, detalles de implementación y despliegue del servidor.&lt;/li&gt;
&lt;li&gt;DoH no es &amp;ldquo;más lento o rápido por usar HTTP&amp;rdquo;; el rendimiento depende de la reutilización de conexiones, la calidad de red y la implementación; en muchos casos DoH/3 y DoT son comparables o DoH/3 mejor.&lt;/li&gt;
&lt;li&gt;DoT puede usar SNI para validar el nombre de host del certificado; DoH depende de la validación habitual de certificados HTTPS y coincidencia de nombres de host.&lt;/li&gt;
&lt;li&gt;DNS cifrado solo evita espionaje y manipulación en la ruta, no implica &amp;ldquo;anonimato total&amp;rdquo;. El resolvedor aún puede registrar consultas; elija proveedores confiables y revise sus políticas de privacidad.&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="mermaid"&gt;graph TD
subgraph Familia DNS
A[Plain DNS UDP/TCP &amp;#43; DNS]
subgraph DNS cifrado
B[DoT TCP &amp;#43; TLS &amp;#43; DNS]
C[DoH HTTP/2,3 &amp;#43; TLS &amp;#43; DNS]
D[DoQ QUIC &amp;#43; TLS 1.3 &amp;#43; DNS]
end
subgraph Bases de transporte
E[TCP]
F[UDP]
G[QUIC]
end
end
A --&amp;gt; B
A --&amp;gt; C
A --&amp;gt; D
B --&amp;gt; E
C --&amp;gt; E
C --&amp;gt; G
D --&amp;gt; G
A --&amp;gt; F
style A fill:#f3e5f5
style B fill:#e8f5e8
style C fill:#e3f2fd
style D fill:#fff3e0&lt;/pre&gt;
&lt;h2 id="resumen-comparativo"&gt;Resumen comparativo&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Protocolo&lt;/th&gt;
&lt;th&gt;Capa de transporte&lt;/th&gt;
&lt;th&gt;Cifrado&lt;/th&gt;
&lt;th&gt;Encapsulado&lt;/th&gt;
&lt;th&gt;Puerto por defecto&lt;/th&gt;
&lt;th&gt;Características típicas&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Plain DNS&lt;/td&gt;
&lt;td&gt;UDP/TCP&lt;/td&gt;
&lt;td&gt;Ninguno&lt;/td&gt;
&lt;td&gt;DNS nativo&lt;/td&gt;
&lt;td&gt;53&lt;/td&gt;
&lt;td&gt;Simple y eficiente, visible en texto claro, fácil de manipular/auditar&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DoT&lt;/td&gt;
&lt;td&gt;TCP&lt;/td&gt;
&lt;td&gt;TLS 1.2/1.3&lt;/td&gt;
&lt;td&gt;DNS&lt;/td&gt;
&lt;td&gt;853&lt;/td&gt;
&lt;td&gt;Puerto dedicado, fácil de bloquear por puerto, buen soporte a nivel de sistema&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DoH&lt;/td&gt;
&lt;td&gt;TCP/QUIC&lt;/td&gt;
&lt;td&gt;TLS 1.2/1.3&lt;/td&gt;
&lt;td&gt;HTTP/2-3 + DNS&lt;/td&gt;
&lt;td&gt;443&lt;/td&gt;
&lt;td&gt;Comparte puerto con HTTPS, mejor penetración, soporte prioritario en navegadores&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DoQ&lt;/td&gt;
&lt;td&gt;QUIC&lt;/td&gt;
&lt;td&gt;TLS 1.3&lt;/td&gt;
&lt;td&gt;DNS&lt;/td&gt;
&lt;td&gt;853/UDP&lt;/td&gt;
&lt;td&gt;Baja latencia, evita bloqueo de cabeza de cola, ecosistema en desarrollo&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="rendimiento-y-latencia"&gt;Rendimiento y latencia&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Reutilización de conexiones: DoT/DoH/DoQ pueden reutilizar conexiones largas para reducir costes de handshake; DoH/2, DoH/3 y DoQ también permiten multiplexar solicitudes en una sola conexión.&lt;/li&gt;
&lt;li&gt;Bloqueo de cabeza de cola: TCP tiene este problema a nivel de aplicación; HTTP/2 usa multiplexación sobre TCP pero sigue afectado por pérdidas TCP; QUIC (DoH/3, DoQ) evita el bloqueo de cabeza de cola a nivel de transporte, más amigable para redes con alta pérdida/móviles.&lt;/li&gt;
&lt;li&gt;Latencia del primer paquete: en la primera conexión DoT necesita handshake TCP+TLS; DoH/2 similar; DoH/3/DoQ basado en QUIC se recupera y migra más rápido. En cargas prolongadas, las diferencias dependen más de la implementación y condiciones de red.&lt;/li&gt;
&lt;li&gt;Disponibilidad: DoH usa puerto 443, menos propenso a bloqueos simples por puerto; DoT usa 853, a menudo bloqueado por corte de puerto; DoQ usa 853/UDP, actualmente puede ser bloqueado o no permitido.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="soporte-de-cliente-y-sistema"&gt;Soporte de cliente y sistema&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Navegadores: Familia Chromium y Firefox incluyen DoH por defecto (pueden elevar automáticamente a resolvedores DoH o usar proveedores de listas internas).&lt;/li&gt;
&lt;li&gt;Windows: Windows 11 soporta DoH nativamente.&lt;/li&gt;
&lt;li&gt;Android: Android 9+ ofrece &amp;ldquo;DNS privado&amp;rdquo; (DoT a nivel de sistema). El soporte DoH a nivel de sistema depende de la versión/fabricante.&lt;/li&gt;
&lt;li&gt;Plataformas Apple: iOS 14+/macOS 11+ mediante perfiles de descripción o NetworkExtension soportan DoT y DoH.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="recomendaciones-de-despliegue-y-elección"&gt;Recomendaciones de despliegue y elección&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Redes normales/restringidas (Wi‑Fi público, necesidad de penetrar bloqueos simples): priorice DoH (puerto 443), habilite HTTP/3 si está disponible.&lt;/li&gt;
&lt;li&gt;Salida única a nivel de sistema (router, gateway, DNS privado Android): priorice DoT (853); si la red lo permite, añada DoH como respaldo.&lt;/li&gt;
&lt;li&gt;Redes móviles/alta pérdida: priorice DoH/3 o DoQ con QUIC (dependiendo del soporte de resolvedor y cliente).&lt;/li&gt;
&lt;li&gt;Escenarios empresariales/cumplimiento: elija según la política (DoH se integra con infraestructura HTTPS existente; DoT permite separar el plano de control DNS).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="resumen"&gt;Resumen&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Priorice DoH (443, mejor penetración); si está disponible, habilite HTTP/3.&lt;/li&gt;
&lt;li&gt;Para salida única a nivel de sistema: priorice DoT (853) + conexión persistente, con DoH (443) como respaldo si es necesario.&lt;/li&gt;
&lt;li&gt;Si su resolvedor y cliente lo soportan: pruebe DoQ (experiencia a menudo mejor en redes móviles).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="estándares-de-referencia"&gt;Estándares de referencia&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;RFC 7858, RFC 8310 (DNS over TLS)&lt;/li&gt;
&lt;li&gt;RFC 8484 (DNS over HTTPS)&lt;/li&gt;
&lt;li&gt;RFC 9250 (DNS over QUIC)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="servicios-dns-recomendados"&gt;Servicios DNS recomendados&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;DNS NingPing: &lt;a href="https://www.nullprivate.com"&gt;https://www.nullprivate.com&lt;/a&gt; soporta DoT, DoH (con HTTP3), soporte nativo de filtrado de anuncios y división de tráfico.&lt;/li&gt;
&lt;li&gt;Versión autohospedada: &lt;a href="https://github.com/NullPrivate/NullPrivate"&gt;https://github.com/NullPrivate/NullPrivate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description></item></channel></rss>